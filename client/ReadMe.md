# Spotmies.AI Frontend – Client

## Overview

The Spotmies.AI frontend is a **real-time monitoring dashboard** for industrial IoT devices. It visualizes **live sensor data**, **AI-generated health predictions**, and **maintenance alerts** in an interactive and responsive user interface.

The frontend connects to the backend using a combination of **REST APIs** (for initial and historical data) and **WebSocket (Socket.IO)** connections (for live updates). All updates are delivered in real time without page refreshes, enabling continuous situational awareness of equipment health.

---

## Core Features Implemented

### 1. Real-Time Device Dashboard

The main dashboard displays all registered devices in a responsive grid. Each device is shown as an interactive card containing:

* Device ID / name
* Current AI-generated health score (0–100)
* Failure risk level (LOW / MEDIUM / HIGH)
* Status badge (STABLE / DEGRADING / CRITICAL)
* Last update timestamp

Device cards update **instantly** whenever new AI predictions or sensor updates are received through WebSockets.

---

### 2. Live Sensor Data Visualization

The dashboard displays **raw sensor data exactly as received** from devices:

* Temperature
* Vibration
* Pressure

Line/area charts plot sensor values over time using a **sliding window** of recent readings. Charts update in real time as new data arrives, allowing users to visually observe trends, fluctuations, and anomalies without any frontend-side calculations or transformations.

---

### 3. Device Details View

Each device card links to a detailed view that provides deeper insight into the device’s behavior:

* Live sensor charts
* Historical sensor data fetched from MongoDB
* Latest AI-generated health prediction
* Natural-language explanation returned by the AI
* Current failure risk and status

This page allows users to understand **why** the AI assessed a certain risk level by reviewing the recent timeline of sensor behavior.

---

### 4. Real-Time Alerts Management

The alerts panel displays all active alerts generated by the backend AI inference:

* Severity level (WARNING / CRITICAL)
* Device ID
* Timestamp
* AI-generated reason for the alert
* Current alert status (ACTIVE / ACKNOWLEDGED / RESOLVED)

Alerts appear instantly via WebSocket when created. Users can acknowledge alerts to track which issues have been reviewed.

---

### 5. Modern UI with Tailwind CSS & shadcn/ui

The frontend uses Tailwind CSS and shadcn/ui to build a clean, consistent design system:

* Reusable cards, buttons, badges, and panels
* Color-coded indicators for health and risk levels
* Responsive layouts for desktop, tablet, and mobile
* Accessible UI patterns with clear visual hierarchy

---

### 6. WebSocket-Driven Real-Time Updates

A persistent Socket.IO connection ensures:

* Zero polling
* Immediate UI updates
* Automatic reconnection on network interruptions

The frontend reacts to server-pushed events rather than repeatedly querying APIs.

---

## Project Architecture

### Directory Structure

**Entry Points**

* `main.tsx` initializes the React application
* `App.tsx` defines routing and global layout

**Pages**

* `Dashboard` – main overview of devices and alerts
* `DeviceDetails` – in-depth view of a single device

**Components**

* `DeviceCard` – displays AI health & risk per device
* `SensorChart` – renders live and historical sensor charts
* `HealthIndicator` – visual representation of AI health score
* `AlertsPanel` – lists and manages alerts

**Services**

* `api.ts` – REST API wrapper for backend endpoints
* `socket.ts` – manages WebSocket connection and events

**Hooks**

* `useLiveSensors` – subscribes to live sensor streams
* `useDeviceHistory` – fetches historical sensor data
* `useAsync` – generic async state handling

**Utilities**

* Formatting helpers
* Chart configuration helpers

---

## Installation & Setup

### Prerequisites

* Node.js 18+
* npm
* Backend server running (default: `http://localhost:3000`)

### Environment Variables

Create a `.env.local` file:

```env
VITE_API_URL=http://localhost:3000/api
VITE_WEBSOCKET_URL=http://localhost:3000
```

### Running the Frontend

```bash
npm install
npm run dev
```

Open the application at:

```
http://localhost:5173
```

---

## How the Frontend Works

### Application Lifecycle

1. On load, the frontend fetches:

   * Registered devices
   * Existing alerts
2. A WebSocket connection is established
3. The backend pushes:

   * Live sensor updates
   * AI health predictions
   * Alert events
4. React state updates trigger immediate UI re-renders
5. No manual refresh or polling is required

---

## Real-Time Event Handling

### Server → Client Events

* `sensor:update` – live sensor readings
* `device:health` – AI prediction results
* `alert:new` – newly generated alerts
* `alert:acknowledged`
* `alert:resolved`
* `device:list`
* `alert:list`

Each event updates only the relevant part of the UI, keeping rendering efficient.

---

## Data Philosophy

* **Sensor data is displayed raw**, without frontend-side calculations
* **Health and risk are determined entirely by AI**
* The frontend acts as a **visualization and interaction layer**, not a prediction engine
* All interpretation logic lives in the backend AI inference pipeline

---

## Performance Optimizations

* Sliding windows for charts to limit rendering load
* Memoized components to avoid unnecessary re-renders
* Single persistent WebSocket connection
* Lazy loading of heavy components (charts)

---

## Accessibility & UX

* Clear color coding with text labels
* Responsive layouts
* Keyboard-friendly interactions
* Loading and empty states
* Informative error messages

---

## Troubleshooting

### No Live Updates

* Ensure backend is running
* Verify WebSocket URL
* Check browser console for Socket.IO connection logs

### Charts Not Updating

* Confirm sensor data is being published
* Check `sensor:update` events in DevTools

### Alerts Missing

* Ensure AI inference is running in backend
* Alerts only appear when AI reports HIGH risk or CRITICAL status

---

## Summary

The Spotmies.AI frontend is a **real-time, AI-driven monitoring dashboard** designed for clarity, responsiveness, and scalability. By leveraging WebSockets for live updates and REST APIs for persistence, the application delivers immediate visibility into device behavior, AI-generated health assessments, and maintenance alerts. The frontend intentionally avoids prediction logic, ensuring a clean separation of concerns and a robust, production-ready architecture.

---

**Version:** 2.0.0
**Last Updated:** December 26, 2025
